<!doctype html>
<html lang="eo">

<head>
  <meta charset="utf-8">
  <title>
  Vortejo/Vortaro/Kontrolilo
</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="/vortejo/main.min.14e609075cfaa313ac31bd7d03f6c8b6a8098a1cf2e68da46d6c8cc12ea18eeb.css" integrity="sha256-FOYJB1z6oxOsMb19A/bItqgJihzy5o2kbWyMwS6hjus=">

  <link rel="icon" href="icon.png">
  <script src="/vortejo/eo.56c17781a32d6c139c013be2ad8cd57d33b78f126970cc429827aaf93f358619.js" integrity="sha256-VsF3gaMtbBOcATvirYzVfTO3jxJpcMxCmCeq&#43;T81hhk="></script>
  <script src="/vortejo/main.8118dd44192b835c7b008ed5abb256c83e1590b90645d213924489cdb4719c7e.js" integrity="sha256-gRjdRBkrg1x7AI7Vq7JWyD4VkLkGRdITkkSJzbRxnH4="></script>

</head>

<body class="">

  <div id="ŝirmilo" hidden>
    <div class="montrilo">
      testset
    </div>
  </div>

  
    <header>
      <h1>
        <a href="/vortejo">
          <span>Vortejo</span>
        </a>
      </h1>
    </header>
  

  
<main aria-role="main">
  <h1 id="kontrolilo">Kontrolilo</h1>
<p>Eta kaj iom stulta ilo por kontroli ĉu teksto enhavas neoficialajn vortojn. Enmetu la tekston sube, premu la &ldquo;ek&rdquo; butonon. La rezulto estas la teksto, kun la vortoj partigitaj en subvortojn, laŭ la radikoj de la vortaro.</p>
<p>Estas ofte multaj kieloj laŭ kiu oni povas partigi vorton, inkluzive de tiuj kiuj ne estas tute laŭregulaj, do la sistemo trovas ĉiujn kaj tiam elektis la plej verŝajne. La nombro post ĉiu vorto estas la kiomo de eblaj partigoj - alklaku vorton por vidi tiujn. Eblas ke la elektita ne estas la intenca.</p>
<p>Vorto kun oranĝkolora bordo estas nekomprenebla uzanta la vortaro.</p>

<div class="kontrolilo">

  <div class="stato">
    pretiĝanta
  </div>

  <form class="formo" hidden>
    <textarea name="teksto" placeholder="enigi tekston ĉie tie"></textarea>
    <button type="submit">ek</button>
    <button type="button" name="mp">malplenigi</button>
  </form>

  <div class="rezulto" hidden>
  </div>

  <div class="lavorto" hidden>
  </div>

</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  let ilo = null

  let e0 = document.querySelector('.kontrolilo')
  let eS = e0.querySelector('.stato')
  let eF = e0.querySelector('form')
  let eT = eF.querySelector('[name=teksto]')
  let eR = e0.querySelector('.rezulto')
  let eM = e0.querySelector('.lavorto')

  function pretigu(o) {
    ilo = o
    montruTeksto(eS)

    eF.addEventListener('submit', e  => {
      e.preventDefault()
      komprenu(eT.value)
    })
    eF.querySelector("[name=mp]").addEventListener('click', e  => {
      eT.value = ''
    })

    eF.hidden = false
  }

  const dividŜablono = /[^A-Za-zĉĝĥĵŝŭĈĜĤĴŜŬ]/

  function komprenu(teksto) {
    malplenigu(eR)

    let e = document.createElement('div')
    for (v of teksto.split(dividŜablono)) {
      if (v.length == 0) {
        continue
      }
      let vs = document.createElement('span')
      let altj = ilo.komprenuVorton(v.toLowerCase())
      let unua = altj[0]
      vs.textContent = unua.vorto
      if (altj.length > 1) {
        vs.textContent += ` (${altj.length})`
      }
      if (unua.eraro) {
        vs.title = unua.eraro.join(', ')
        vs.classList.add('warn')
      }
      vs.addEventListener('click', () => montruVorto(altj))
      e.append(vs)
      e.append(' ')
    }
    eR.append(e)
    eR.hidden = false
  }

  function montruVorto(altj) {
    malplenigu(eM)

    let l = document.createElement('ol')
    for (let a of altj) {
      let ero = document.createElement('li')
      ero.textContent = a.vorto
      if (a.eraro) {
        ero.title = a.eraro.join(', ')
      }
      l.append(ero)
    }
    eM.append(l)

    eM.hidden = false
    montru(eM)
  }

  eo('\/vortaro').
  then(
    o => pretigu(o),
    e => montruEraro(eS, e))
})
</script>



  <div class="links">
    
      <a href="/vortejo/vortaro/listo/">&lt; Reen</a>
    
    <a href="https://undeconstructed.github.io/vortejo/">Hejmen</a>
    
      <a href="/vortejo/vortaro/problemoj/">Antaŭen &gt;</a>
    
  </div>
</main>


  <footer>
    <span>Copyright 2020 | <a href="https://github.com/undeconstructed/">Kontakti min</a> | Vidi la <a href="/vortaro">Vortara datumaro</a> (kaj <a href="https://github.com/undeconstructed/vortaro">ĝia fonto</a>).</span>
  </footer>

</body>

</html>
